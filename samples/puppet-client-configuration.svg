<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1190pt" height="260pt" viewBox="0 0 1190 260"><g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 256)"><title>Sample template to use the PuppetLabs Puppet client to install server roles. A WaitCondition is used to hold up the stack creation until the application is deployed. **WARNING** This template creates one or more Amazon EC2 instances and CloudWatch alarms. You will be billed for the AWS resources used if you create a stack from this template.</title><polygon fill="#fff" stroke="#fff" points="-4 5 -4 -256 1187 -256 1187 5 -4 5"/><g id="node1" class="node"><title>ApplicationWaitHandle</title><polygon fill="none" stroke="#000" points="1173 -180 1001 -180 1001 -144 1173 -144 1173 -180"/><text x="1087" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">ApplicationWaitHandle</text></g><g id="node2" class="node"><title>PuppetClient</title><polygon fill="none" stroke="#000" points="752 -108 646 -108 646 -72 752 -72 752 -108"/><text x="699" y="-86.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">PuppetClient</text></g><g id="edge4" class="edge"><title>ApplicationWaitHandle-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M1000.78,-147.33C994.747,-146.2 988.775,-145.079 983,-144 906.976,-129.792 819.805,-113.76 762.236,-102.881"/><polygon fill="#000" stroke="#000" points="762.673 -99.401 752.196 -100.978 761.369 -106.279 762.673 -99.401"/></g><g id="edge16" class="edge"><title>ApplicationWaitHandle-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M1001.5,-144.093C1001.33,-144.062 1001.17,-144.031 1001,-144 918.641,-128.608 823.199,-111.075 761.925,-100.272"/><polygon fill="#000" stroke="#000" points="762.472 -96.815 752.017 -98.532 761.261 -103.709 762.472 -96.815"/></g><g id="node3" class="node"><title>ApplicationWaitCondition</title><polygon fill="none" stroke="#000" points="1182 -108 992 -108 992 -72 1182 -72 1182 -108"/><text x="1087" y="-86.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">ApplicationWaitCondition</text></g><g id="edge32" class="edge"><title>ApplicationWaitHandle-&gt;ApplicationWaitCondition</title><path fill="none" stroke="#000" d="M1087,-143.831C1087,-136.131 1087,-126.974 1087,-118.417"/><polygon fill="#000" stroke="#000" points="1090.5 -118.413 1087 -108.413 1083.5 -118.413 1090.5 -118.413"/></g><g id="node13" class="node"><title>ServerDNSName</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="753 -36 645 -36 633 -24 633 -12 645 0 753 0 765 -12 765 -24 753 -36"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M645,-36C639,-36 633,-30 633,-24"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M633,-12C633,-6 639,-1.71176e-14 645,-1.64717e-14"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M753,-4.84461e-15C759,-4.19866e-15 765,-6 765,-12"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M765,-24C765,-30 759,-36 753,-36"/><polyline fill="none" stroke="#000" points="753 -36 645 -36"/><path fill="none" stroke="#000" d="M645,-36C639,-36 633,-30 633,-24"/><polyline fill="none" stroke="#000" points="633 -24 633 -12"/><path fill="none" stroke="#000" d="M633,-12C633,-6 639,-1.71176e-14 645,-1.64717e-14"/><polyline fill="none" stroke="#000" points="645 0 753 0"/><path fill="none" stroke="#000" d="M753,-4.84461e-15C759,-4.19866e-15 765,-6 765,-12"/><polyline fill="none" stroke="#000" points="765 -12 765 -24"/><path fill="none" stroke="#000" d="M765,-24C765,-30 759,-36 753,-36"/><text x="699" y="-14.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">ServerDNSName</text></g><g id="edge34" class="edge"><title>PuppetClient-&gt;ServerDNSName</title><path fill="none" stroke="#000" d="M699,-71.8314C699,-64.131 699,-54.9743 699,-46.4166"/><polygon fill="#000" stroke="#000" points="702.5 -46.413 699 -36.413 695.5 -46.413 702.5 -46.413"/></g><g id="node5" class="node"><title>EC2SecurityGroup</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="132 -252 12 -252 0 -240 0 -228 12 -216 132 -216 144 -228 144 -240 132 -252"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M12,-252C6,-252 4.73695e-14,-246 3.78956e-14,-240"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M1.89478e-14,-228C9.4739e-15,-222 6,-216 12,-216"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M132,-216C138,-216 144,-222 144,-228"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M144,-240C144,-246 138,-252 132,-252"/><polyline fill="none" stroke="#000" points="132 -252 12 -252"/><path fill="none" stroke="#000" d="M12,-252C6,-252 4.73695e-14,-246 3.78956e-14,-240"/><polyline fill="none" stroke="#000" points="0 -240 0 -228"/><path fill="none" stroke="#000" d="M1.89478e-14,-228C9.4739e-15,-222 6,-216 12,-216"/><polyline fill="none" stroke="#000" points="12 -216 132 -216"/><path fill="none" stroke="#000" d="M132,-216C138,-216 144,-222 144,-228"/><polyline fill="none" stroke="#000" points="144 -228 144 -240"/><path fill="none" stroke="#000" d="M144,-240C144,-246 138,-252 132,-252"/><text x="72" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">EC2SecurityGroup</text></g><g id="edge22" class="edge"><title>EC2SecurityGroup-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M121.492,-215.965C178.029,-195.943 273.633,-163.84 358,-144 453.735,-121.487 566.83,-105.65 635.705,-97.1791"/><polygon fill="#000" stroke="#000" points="636.45 -100.614 645.955 -95.933 635.605 -93.666 636.45 -100.614"/></g><g id="node6" class="node"><title>StackNameOrId</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="274 -252 174 -252 162 -240 162 -228 174 -216 274 -216 286 -228 286 -240 274 -252"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M174,-252C168,-252 162,-246 162,-240"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M162,-228C162,-222 168,-216 174,-216"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M274,-216C280,-216 286,-222 286,-228"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M286,-240C286,-246 280,-252 274,-252"/><polyline fill="none" stroke="#000" points="274 -252 174 -252"/><path fill="none" stroke="#000" d="M174,-252C168,-252 162,-246 162,-240"/><polyline fill="none" stroke="#000" points="162 -240 162 -228"/><path fill="none" stroke="#000" d="M162,-228C162,-222 168,-216 174,-216"/><polyline fill="none" stroke="#000" points="174 -216 274 -216"/><path fill="none" stroke="#000" d="M274,-216C280,-216 286,-222 286,-228"/><polyline fill="none" stroke="#000" points="286 -228 286 -240"/><path fill="none" stroke="#000" d="M286,-240C286,-246 280,-252 274,-252"/><text x="224" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">StackNameOrId</text></g><g id="edge12" class="edge"><title>StackNameOrId-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M266.005,-215.897C312.718,-196.258 390.736,-164.916 460,-144 518.739,-126.262 587.16,-111.37 635.705,-101.747"/><polygon fill="#000" stroke="#000" points="636.613 -105.136 645.752 -99.775 635.265 -98.267 636.613 -105.136"/></g><g id="node7" class="node"><title>KeyName</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="372 -252 316 -252 304 -240 304 -228 316 -216 372 -216 384 -228 384 -240 372 -252"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M316,-252C310,-252 304,-246 304,-240"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M304,-228C304,-222 310,-216 316,-216"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M372,-216C378,-216 384,-222 384,-228"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M384,-240C384,-246 378,-252 372,-252"/><polyline fill="none" stroke="#000" points="372 -252 316 -252"/><path fill="none" stroke="#000" d="M316,-252C310,-252 304,-246 304,-240"/><polyline fill="none" stroke="#000" points="304 -240 304 -228"/><path fill="none" stroke="#000" d="M304,-228C304,-222 310,-216 316,-216"/><polyline fill="none" stroke="#000" points="316 -216 372 -216"/><path fill="none" stroke="#000" d="M372,-216C378,-216 384,-222 384,-228"/><polyline fill="none" stroke="#000" points="384 -228 384 -240"/><path fill="none" stroke="#000" d="M384,-240C384,-246 378,-252 372,-252"/><text x="344" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">KeyName</text></g><g id="edge18" class="edge"><title>KeyName-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M382.754,-215.904C423.531,-197.1 489.751,-167.23 548,-144 576.801,-132.514 609.12,-120.802 636.447,-111.234"/><polygon fill="#000" stroke="#000" points="637.599 -114.539 645.89 -107.943 635.295 -107.929 637.599 -114.539"/></g><g id="node8" class="node"><title>ResourceName</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="508 -252 414 -252 402 -240 402 -228 414 -216 508 -216 520 -228 520 -240 508 -252"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M414,-252C408,-252 402,-246 402,-240"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M402,-228C402,-222 408,-216 414,-216"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M508,-216C514,-216 520,-222 520,-228"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M520,-240C520,-246 514,-252 508,-252"/><polyline fill="none" stroke="#000" points="508 -252 414 -252"/><path fill="none" stroke="#000" d="M414,-252C408,-252 402,-246 402,-240"/><polyline fill="none" stroke="#000" points="402 -240 402 -228"/><path fill="none" stroke="#000" d="M402,-228C402,-222 408,-216 414,-216"/><polyline fill="none" stroke="#000" points="414 -216 508 -216"/><path fill="none" stroke="#000" d="M508,-216C514,-216 520,-222 520,-228"/><polyline fill="none" stroke="#000" points="520 -228 520 -240"/><path fill="none" stroke="#000" d="M520,-240C520,-246 514,-252 508,-252"/><text x="461" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">ResourceName</text></g><g id="edge14" class="edge"><title>ResourceName-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M491.143,-215.762C534.151,-189.74 613.137,-141.951 660.381,-113.366"/><polygon fill="#000" stroke="#000" points="662.358 -116.261 669.102 -108.09 658.734 -110.272 662.358 -116.261"/></g><g id="node9" class="node"><title>PuppetMasterDNSName</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="708 -252 550 -252 538 -240 538 -228 550 -216 708 -216 720 -228 720 -240 708 -252"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M550,-252C544,-252 538,-246 538,-240"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M538,-228C538,-222 544,-216 550,-216"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M708,-216C714,-216 720,-222 720,-228"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M720,-240C720,-246 714,-252 708,-252"/><polyline fill="none" stroke="#000" points="708 -252 550 -252"/><path fill="none" stroke="#000" d="M550,-252C544,-252 538,-246 538,-240"/><polyline fill="none" stroke="#000" points="538 -240 538 -228"/><path fill="none" stroke="#000" d="M538,-228C538,-222 544,-216 550,-216"/><polyline fill="none" stroke="#000" points="550 -216 708 -216"/><path fill="none" stroke="#000" d="M708,-216C714,-216 720,-222 720,-228"/><polyline fill="none" stroke="#000" points="720 -228 720 -240"/><path fill="none" stroke="#000" d="M720,-240C720,-246 714,-252 708,-252"/><text x="629" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">PuppetMasterDNSName</text></g><g id="edge30" class="edge"><title>PuppetMasterDNSName-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M631.409,-215.892C634.453,-197.078 640.831,-167.199 653,-144 658.202,-134.082 665.513,-124.397 672.778,-116.03"/><polygon fill="#000" stroke="#000" points="675.53 -118.205 679.659 -108.447 670.347 -113.5 675.53 -118.205"/></g><g id="node10" class="node"><title>InstanceType</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="832 -252 750 -252 738 -240 738 -228 750 -216 832 -216 844 -228 844 -240 832 -252"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M750,-252C744,-252 738,-246 738,-240"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M738,-228C738,-222 744,-216 750,-216"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M832,-216C838,-216 844,-222 844,-228"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M844,-240C844,-246 838,-252 832,-252"/><polyline fill="none" stroke="#000" points="832 -252 750 -252"/><path fill="none" stroke="#000" d="M750,-252C744,-252 738,-246 738,-240"/><polyline fill="none" stroke="#000" points="738 -240 738 -228"/><path fill="none" stroke="#000" d="M738,-228C738,-222 744,-216 750,-216"/><polyline fill="none" stroke="#000" points="750 -216 832 -216"/><path fill="none" stroke="#000" d="M832,-216C838,-216 844,-222 844,-228"/><polyline fill="none" stroke="#000" points="844 -228 844 -240"/><path fill="none" stroke="#000" d="M844,-240C844,-246 838,-252 832,-252"/><text x="791" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">InstanceType</text></g><g id="edge24" class="edge"><title>InstanceType-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M740.893,-215.977C725.118,-207.315 709.437,-195.408 700,-180 688.759,-161.647 686.681,-137.187 688.556,-118.399"/><polygon fill="#000" stroke="#000" points="692.042 -118.752 690.024 -108.351 685.115 -117.74 692.042 -118.752"/></g><g id="edge28" class="edge"><title>InstanceType-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M757.615,-215.977C743.118,-207.315 727.437,-195.408 718,-180 706.759,-161.647 704.681,-137.187 703.804,-118.399"/><polygon fill="#000" stroke="#000" points="707.298 -118.194 703.378 -108.351 700.305 -118.49 707.298 -118.194"/></g><g id="node11" class="node"><title>PuppetClientSecurityGroup</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="1056 -252 874 -252 862 -240 862 -228 874 -216 1056 -216 1068 -228 1068 -240 1056 -252"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M874,-252C868,-252 862,-246 862,-240"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M862,-228C862,-222 868,-216 874,-216"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M1056,-216C1062,-216 1068,-222 1068,-228"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M1068,-240C1068,-246 1062,-252 1056,-252"/><polyline fill="none" stroke="#000" points="1056 -252 874 -252"/><path fill="none" stroke="#000" d="M874,-252C868,-252 862,-246 862,-240"/><polyline fill="none" stroke="#000" points="862 -240 862 -228"/><path fill="none" stroke="#000" d="M862,-228C862,-222 868,-216 874,-216"/><polyline fill="none" stroke="#000" points="874 -216 1056 -216"/><path fill="none" stroke="#000" d="M1056,-216C1062,-216 1068,-222 1068,-228"/><polyline fill="none" stroke="#000" points="1068 -228 1068 -240"/><path fill="none" stroke="#000" d="M1068,-240C1068,-246 1062,-252 1056,-252"/><text x="965" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">PuppetClientSecurityGroup</text></g><g id="edge20" class="edge"><title>PuppetClientSecurityGroup-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M874.575,-215.935C817.572,-203.889 752.752,-188.718 742,-180 722.757,-164.397 711.593,-138.126 705.487,-117.983"/><polygon fill="#000" stroke="#000" points="708.79 -116.795 702.74 -108.098 702.045 -118.67 708.79 -116.795"/></g><g id="node15" class="node"><title>AWS::Region</title><polygon fill="none" stroke="#000" points="855 -180 751 -180 751 -144 855 -144 855 -180"/><text x="803" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">AWS::Region</text></g><g id="edge6" class="edge"><title>AWS::Region-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M764.852,-143.831C750.174,-134.878 734.084,-123.956 721.249,-114.295"/><polygon fill="#000" stroke="#000" points="723.381 -111.52 713.332 -108.163 719.094 -117.054 723.381 -111.52"/></g><g id="edge26" class="edge"><title>AWS::Region-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M788.661,-143.831C777.154,-134.622 761.123,-123.33 745.647,-113.471"/><polygon fill="#000" stroke="#000" points="747.476 -110.486 737.139 -108.163 743.771 -116.425 747.476 -110.486"/></g><g id="edge10" class="edge"><title>AWS::Region-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M776.756,-143.831C763.701,-134.793 747.747,-123.748 733.695,-114.02"/><polygon fill="#000" stroke="#000" points="735.449 -110.977 725.235 -108.163 731.465 -116.733 735.449 -110.977"/></g><g id="node17" class="node"><title>AWS::StackId</title><polygon fill="none" stroke="#000" points="983 -180 873 -180 873 -144 983 -144 983 -180"/><text x="928" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">AWS::StackId</text></g><g id="edge8" class="edge"><title>AWS::StackId-&gt;PuppetClient</title><path fill="none" stroke="#000" d="M872.857,-144.663C839.348,-134.127 796.464,-120.644 761.672,-109.705"/><polygon fill="#000" stroke="#000" points="762.677 -106.352 752.087 -106.691 760.577 -113.03 762.677 -106.352"/></g></g></svg>