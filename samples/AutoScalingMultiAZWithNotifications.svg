<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="733pt" height="548pt" viewBox="0 0 733 548"><g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 544)"><title>AWS CloudFormation Sample Template AutoScalingMultiAZWithNotifications: Create a multi-az, load balanced and Auto Scaled sample web site running on an Apache Web Serever with PHP. The application is configured to span all Availability Zones in the region and is Auto-Scaled based on the CPU utilization of the web servers. Notifications will be sent to the operator email address on scaling events. The instances are load balanced with a simple health check against the default web page. The web site is available on port 80, however, the instances can be configured to listen on any port (8888 by default). **WARNING** This template creates one or more Amazon EC2 instances and an Elastic Load Balancer. You will be billed for the AWS resources used if you create a stack from this template.</title><polygon fill="#fff" stroke="#fff" points="-4 5 -4 -544 730 -544 730 5 -4 5"/><g id="node1" class="node"><title>CPUAlarmLow</title><polygon fill="none" stroke="#000" points="275 -108 159 -108 159 -72 275 -72 275 -108"/><text x="217" y="-86.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">CPUAlarmLow</text></g><g id="node2" class="node"><title>WebServerGroup</title><polygon fill="none" stroke="#000" points="350 -252 214 -252 214 -216 350 -216 350 -252"/><text x="282" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WebServerGroup</text></g><g id="edge4" class="edge"><title>WebServerGroup-&gt;CPUAlarmLow</title><path fill="none" stroke="#000" d="M213.752,-216.467C181.234,-206.595 147.391,-193.551 138,-180 128.886,-166.849 130.532,-158.15 138,-144 144.552,-131.586 155.384,-121.484 166.958,-113.52"/><polygon fill="#000" stroke="#000" points="168.915 -116.423 175.466 -108.097 165.152 -110.521 168.915 -116.423"/></g><g id="node4" class="node"><title>WebServerScaleUpPolicy</title><polygon fill="none" stroke="#000" points="597 -180 411 -180 411 -144 597 -144 597 -180"/><text x="504" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WebServerScaleUpPolicy</text></g><g id="edge26" class="edge"><title>WebServerGroup-&gt;WebServerScaleUpPolicy</title><path fill="none" stroke="#000" d="M337.733,-215.924C368.346,-205.996 406.488,-193.625 438.516,-183.238"/><polygon fill="#000" stroke="#000" points="439.811 -186.498 448.244 -180.083 437.652 -179.839 439.811 -186.498"/></g><g id="node6" class="node"><title>CPUAlarmHigh</title><polygon fill="none" stroke="#000" points="475 -108 357 -108 357 -72 475 -72 475 -108"/><text x="416" y="-86.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">CPUAlarmHigh</text></g><g id="edge32" class="edge"><title>WebServerGroup-&gt;CPUAlarmHigh</title><path fill="none" stroke="#000" d="M316.984,-215.879C332.636,-206.606 350.55,-194.26 364,-180 381.292,-161.667 395.193,-136.552 404.256,-117.51"/><polygon fill="#000" stroke="#000" points="407.551 -118.723 408.547 -108.175 401.191 -115.799 407.551 -118.723"/></g><g id="node9" class="node"><title>WebServerScaleDownPolicy</title><polygon fill="none" stroke="#000" points="355 -180 147 -180 147 -144 355 -144 355 -180"/><text x="251" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WebServerScaleDownPolicy</text></g><g id="edge48" class="edge"><title>WebServerGroup-&gt;WebServerScaleDownPolicy</title><path fill="none" stroke="#000" d="M274.177,-215.831C270.789,-207.962 266.746,-198.571 262.992,-189.853"/><polygon fill="#000" stroke="#000" points="266.097 -188.214 258.928 -180.413 259.668 -190.982 266.097 -188.214"/></g><g id="node3" class="node"><title>LaunchConfig</title><polygon fill="none" stroke="#000" points="337 -324 227 -324 227 -288 337 -288 337 -324"/><text x="282" y="-302.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">LaunchConfig</text></g><g id="edge8" class="edge"><title>LaunchConfig-&gt;WebServerGroup</title><path fill="none" stroke="#000" d="M282,-287.831C282,-280.131 282,-270.974 282,-262.417"/><polygon fill="#000" stroke="#000" points="285.5 -262.413 282 -252.413 278.5 -262.413 285.5 -262.413"/></g><g id="edge34" class="edge"><title>WebServerScaleUpPolicy-&gt;CPUAlarmHigh</title><path fill="none" stroke="#000" d="M481.794,-143.831C470.955,-134.963 457.756,-124.164 446.032,-114.572"/><polygon fill="#000" stroke="#000" points="448.155 -111.786 438.199 -108.163 443.722 -117.204 448.155 -111.786"/></g><g id="node5" class="node"><title>ElasticLoadBalancer</title><polygon fill="none" stroke="#000" points="645 -468 491 -468 491 -432 645 -432 645 -468"/><text x="568" y="-446.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">ElasticLoadBalancer</text></g><g id="edge10" class="edge"><title>ElasticLoadBalancer-&gt;WebServerGroup</title><path fill="none" stroke="#000" d="M578.306,-431.876C587.807,-412.503 598.432,-381.659 584,-360 534.507,-285.723 432.017,-255.158 360.221,-242.628"/><polygon fill="#000" stroke="#000" points="360.741 -239.167 350.302 -240.977 359.592 -246.072 360.741 -239.167"/></g><g id="node8" class="node"><title>InstanceSecurityGroup</title><polygon fill="none" stroke="#000" points="575 -396 401 -396 401 -360 575 -360 575 -396"/><text x="488" y="-374.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">InstanceSecurityGroup</text></g><g id="edge42" class="edge"><title>ElasticLoadBalancer-&gt;InstanceSecurityGroup</title><path fill="none" stroke="#000" d="M541.86,-431.831C531.349,-423.134 519.448,-412.578 509.45,-403.127"/><polygon fill="#000" stroke="#000" points="511.857 -400.585 502.229 -396.163 506.997 -405.624 511.857 -400.585"/></g><g id="edge44" class="edge"><title>ElasticLoadBalancer-&gt;InstanceSecurityGroup</title><path fill="none" stroke="#000" d="M553.765,-431.831C544.862,-423.048 533.166,-412.371 522.063,-402.849"/><polygon fill="#000" stroke="#000" points="524.034 -399.933 514.133 -396.163 519.522 -405.284 524.034 -399.933"/></g><g id="node17" class="node"><title>URL</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="656 -36 626 -36 614 -24 614 -12 626 0 656 0 668 -12 668 -24 656 -36"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M626,-36C620,-36 614,-30 614,-24"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M614,-12C614,-6 620,-1.61846e-14 626,-1.46056e-14"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M656,-6.71068e-15C662,-5.1317e-15 668,-6 668,-12"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M668,-24C668,-30 662,-36 656,-36"/><polyline fill="none" stroke="#000" points="656 -36 626 -36"/><path fill="none" stroke="#000" d="M626,-36C620,-36 614,-30 614,-24"/><polyline fill="none" stroke="#000" points="614 -24 614 -12"/><path fill="none" stroke="#000" d="M614,-12C614,-6 620,-1.61846e-14 626,-1.46056e-14"/><polyline fill="none" stroke="#000" points="626 0 656 0"/><path fill="none" stroke="#000" d="M656,-6.71068e-15C662,-5.1317e-15 668,-6 668,-12"/><polyline fill="none" stroke="#000" points="668 -12 668 -24"/><path fill="none" stroke="#000" d="M668,-24C668,-30 662,-36 656,-36"/><text x="641" y="-14.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">URL</text></g><g id="edge50" class="edge"><title>ElasticLoadBalancer-&gt;URL</title><path fill="none" stroke="#000" d="M584.201,-431.937C605.707,-406.021 641,-355.891 641,-306 641,-306 641,-306 641,-162 641,-121.876 641,-75.4631 641,-46.4177"/><polygon fill="#000" stroke="#000" points="644.5 -46.185 641 -36.185 637.5 -46.185 644.5 -46.185"/></g><g id="node7" class="node"><title>NotificationTopic</title><polygon fill="none" stroke="#000" points="136 -396 8 -396 8 -360 136 -360 136 -396"/><text x="72" y="-374.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">NotificationTopic</text></g><g id="edge12" class="edge"><title>NotificationTopic-&gt;WebServerGroup</title><path fill="none" stroke="#000" d="M98.5966,-359.762C136.309,-333.903 205.37,-286.546 247.141,-257.903"/><polygon fill="#000" stroke="#000" points="249.351 -260.631 255.619 -252.09 245.393 -254.858 249.351 -260.631"/></g><g id="edge18" class="edge"><title>InstanceSecurityGroup-&gt;LaunchConfig</title><path fill="none" stroke="#000" d="M436.283,-359.924C408.122,-350.081 373.094,-337.839 343.535,-327.507"/><polygon fill="#000" stroke="#000" points="344.333 -324.079 333.738 -324.083 342.023 -330.687 344.333 -324.079"/></g><g id="edge6" class="edge"><title>WebServerScaleDownPolicy-&gt;CPUAlarmLow</title><path fill="none" stroke="#000" d="M242.42,-143.831C238.664,-135.877 234.174,-126.369 230.02,-117.572"/><polygon fill="#000" stroke="#000" points="233.13 -115.961 225.695 -108.413 226.8 -118.95 233.13 -115.961"/></g><g id="node11" class="node"><title>SSHLocation</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="713 -540 633 -540 621 -528 621 -516 633 -504 713 -504 725 -516 725 -528 713 -540"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M633,-540C627,-540 621,-534 621,-528"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M621,-516C621,-510 627,-504 633,-504"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M713,-504C719,-504 725,-510 725,-516"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M725,-528C725,-534 719,-540 713,-540"/><polyline fill="none" stroke="#000" points="713 -540 633 -540"/><path fill="none" stroke="#000" d="M633,-540C627,-540 621,-534 621,-528"/><polyline fill="none" stroke="#000" points="621 -528 621 -516"/><path fill="none" stroke="#000" d="M621,-516C621,-510 627,-504 633,-504"/><polyline fill="none" stroke="#000" points="633 -504 713 -504"/><path fill="none" stroke="#000" d="M713,-504C719,-504 725,-510 725,-516"/><polyline fill="none" stroke="#000" points="725 -516 725 -528"/><path fill="none" stroke="#000" d="M725,-528C725,-534 719,-540 713,-540"/><text x="673" y="-518.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">SSHLocation</text></g><g id="edge38" class="edge"><title>SSHLocation-&gt;InstanceSecurityGroup</title><path fill="none" stroke="#000" d="M674.177,-503.761C674.449,-483.705 671.721,-451.715 654,-432 642.937,-419.691 611.098,-408.056 578.225,-398.761"/><polygon fill="#000" stroke="#000" points="579.05 -395.357 568.479 -396.078 577.192 -402.106 579.05 -395.357"/></g><g id="node12" class="node"><title>KeyName</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="326 -540 270 -540 258 -528 258 -516 270 -504 326 -504 338 -516 338 -528 326 -540"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M270,-540C264,-540 258,-534 258,-528"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M258,-516C258,-510 264,-504 270,-504"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M326,-504C332,-504 338,-510 338,-516"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M338,-528C338,-534 332,-540 326,-540"/><polyline fill="none" stroke="#000" points="326 -540 270 -540"/><path fill="none" stroke="#000" d="M270,-540C264,-540 258,-534 258,-528"/><polyline fill="none" stroke="#000" points="258 -528 258 -516"/><path fill="none" stroke="#000" d="M258,-516C258,-510 264,-504 270,-504"/><polyline fill="none" stroke="#000" points="270 -504 326 -504"/><path fill="none" stroke="#000" d="M326,-504C332,-504 338,-510 338,-516"/><polyline fill="none" stroke="#000" points="338 -516 338 -528"/><path fill="none" stroke="#000" d="M338,-528C338,-534 332,-540 326,-540"/><text x="298" y="-518.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">KeyName</text></g><g id="edge16" class="edge"><title>KeyName-&gt;LaunchConfig</title><path fill="none" stroke="#000" d="M277.142,-503.646C267.846,-494.071 257.902,-481.54 253,-468 236.516,-422.471 254.565,-366.229 268.65,-333.409"/><polygon fill="#000" stroke="#000" points="271.964 -334.571 272.851 -324.013 265.574 -331.714 271.964 -334.571"/></g><g id="node13" class="node"><title>WebServerPort</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="503 -540 405 -540 393 -528 393 -516 405 -504 503 -504 515 -516 515 -528 503 -540"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M405,-540C399,-540 393,-534 393,-528"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M393,-516C393,-510 399,-504 405,-504"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M503,-504C509,-504 515,-510 515,-516"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M515,-528C515,-534 509,-540 503,-540"/><polyline fill="none" stroke="#000" points="503 -540 405 -540"/><path fill="none" stroke="#000" d="M405,-540C399,-540 393,-534 393,-528"/><polyline fill="none" stroke="#000" points="393 -528 393 -516"/><path fill="none" stroke="#000" d="M393,-516C393,-510 399,-504 405,-504"/><polyline fill="none" stroke="#000" points="405 -504 503 -504"/><path fill="none" stroke="#000" d="M503,-504C509,-504 515,-510 515,-516"/><polyline fill="none" stroke="#000" points="515 -516 515 -528"/><path fill="none" stroke="#000" d="M515,-528C515,-534 509,-540 503,-540"/><text x="454" y="-518.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WebServerPort</text></g><g id="edge14" class="edge"><title>WebServerPort-&gt;LaunchConfig</title><path fill="none" stroke="#000" d="M439.631,-503.955C409.215,-465.759 338.221,-376.603 302.828,-332.156"/><polygon fill="#000" stroke="#000" points="305.416 -329.788 296.449 -324.145 299.94 -334.148 305.416 -329.788"/></g><g id="edge28" class="edge"><title>WebServerPort-&gt;ElasticLoadBalancer</title><path fill="none" stroke="#000" d="M476.815,-503.831C490.498,-494.622 508.237,-483.33 524.466,-473.471"/><polygon fill="#000" stroke="#000" points="526.525 -476.316 533.29 -468.163 522.917 -470.318 526.525 -476.316"/></g><g id="edge30" class="edge"><title>WebServerPort-&gt;ElasticLoadBalancer</title><path fill="none" stroke="#000" d="M488.719,-503.831C504.055,-494.707 521.884,-483.539 536.794,-473.745"/><polygon fill="#000" stroke="#000" points="538.802 -476.612 545.194 -468.163 534.928 -470.782 538.802 -476.612"/></g><g id="edge40" class="edge"><title>WebServerPort-&gt;InstanceSecurityGroup</title><path fill="none" stroke="#000" d="M453.633,-503.762C456.987,-479.093 467.165,-434.86 475.923,-405.973"/><polygon fill="#000" stroke="#000" points="479.371 -406.68 479.071 -396.09 472.701 -404.556 479.371 -406.68"/></g><g id="edge46" class="edge"><title>WebServerPort-&gt;InstanceSecurityGroup</title><path fill="none" stroke="#000" d="M462.979,-503.762C471.238,-479.201 481.891,-435.247 486.803,-406.354"/><polygon fill="#000" stroke="#000" points="490.321 -406.507 488.387 -396.09 483.402 -405.439 490.321 -406.507"/></g><g id="node14" class="node"><title>InstanceType</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="228 -540 146 -540 134 -528 134 -516 146 -504 228 -504 240 -516 240 -528 228 -540"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M146,-540C140,-540 134,-534 134,-528"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M134,-516C134,-510 140,-504 146,-504"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M228,-504C234,-504 240,-510 240,-516"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M240,-528C240,-534 234,-540 228,-540"/><polyline fill="none" stroke="#000" points="228 -540 146 -540"/><path fill="none" stroke="#000" d="M146,-540C140,-540 134,-534 134,-528"/><polyline fill="none" stroke="#000" points="134 -528 134 -516"/><path fill="none" stroke="#000" d="M134,-516C134,-510 140,-504 146,-504"/><polyline fill="none" stroke="#000" points="146 -504 228 -504"/><path fill="none" stroke="#000" d="M228,-504C234,-504 240,-510 240,-516"/><polyline fill="none" stroke="#000" points="240 -516 240 -528"/><path fill="none" stroke="#000" d="M240,-528C240,-534 234,-540 228,-540"/><text x="187" y="-518.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">InstanceType</text></g><g id="edge24" class="edge"><title>InstanceType-&gt;LaunchConfig</title><path fill="none" stroke="#000" d="M186.546,-503.921C191.89,-473.361 211.719,-409.938 237,-360 241.733,-350.651 247.778,-340.968 253.989,-332.428"/><polygon fill="#000" stroke="#000" points="256.898 -334.386 260.213 -324.323 251.346 -330.123 256.898 -334.386"/></g><g id="edge20" class="edge"><title>InstanceType-&gt;LaunchConfig</title><path fill="none" stroke="#000" d="M197.53,-503.921C209.89,-473.361 229.719,-409.938 255,-360 259.634,-350.846 265.527,-341.372 270.791,-332.963"/><polygon fill="#000" stroke="#000" points="273.856 -334.663 276.167 -324.323 267.912 -330.964 273.856 -334.663"/></g><g id="node15" class="node"><title>OperatorEmail</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="104 -540 12 -540 0 -528 0 -516 12 -504 104 -504 116 -516 116 -528 104 -540"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M12,-540C6,-540 4.14483e-14,-534 3.31587e-14,-528"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M1.65793e-14,-516C8.28967e-15,-510 6,-504 12,-504"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M104,-504C110,-504 116,-510 116,-516"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M116,-528C116,-534 110,-540 104,-540"/><polyline fill="none" stroke="#000" points="104 -540 12 -540"/><path fill="none" stroke="#000" d="M12,-540C6,-540 4.14483e-14,-534 3.31587e-14,-528"/><polyline fill="none" stroke="#000" points="0 -528 0 -516"/><path fill="none" stroke="#000" d="M1.65793e-14,-516C8.28967e-15,-510 6,-504 12,-504"/><polyline fill="none" stroke="#000" points="12 -504 104 -504"/><path fill="none" stroke="#000" d="M104,-504C110,-504 116,-510 116,-516"/><polyline fill="none" stroke="#000" points="116 -516 116 -528"/><path fill="none" stroke="#000" d="M116,-528C116,-534 110,-540 104,-540"/><text x="58" y="-518.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">OperatorEmail</text></g><g id="edge36" class="edge"><title>OperatorEmail-&gt;NotificationTopic</title><path fill="none" stroke="#000" d="M59.7731,-503.762C62.161,-479.201 66.4343,-435.247 69.2434,-406.354"/><polygon fill="#000" stroke="#000" points="72.757 -406.381 70.241 -396.09 65.79 -405.704 72.757 -406.381"/></g><g id="node27" class="node"><title>AWS::Region</title><polygon fill="none" stroke="#000" points="366 -468 262 -468 262 -432 366 -432 366 -468"/><text x="314" y="-446.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">AWS::Region</text></g><g id="edge22" class="edge"><title>AWS::Region-&gt;LaunchConfig</title><path fill="none" stroke="#000" d="M309.947,-431.762C304.465,-407.093 294.636,-362.86 288.216,-333.973"/><polygon fill="#000" stroke="#000" points="291.606 -333.092 286.02 -324.09 284.773 -334.611 291.606 -333.092"/></g></g></svg>