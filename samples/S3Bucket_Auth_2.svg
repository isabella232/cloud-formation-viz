<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="776pt" height="332pt" viewBox="0 0 776 332"><g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 328)"><title>AWS CloudFormation Sample Template S3Bucket_Auth_2: Simple test template showing how to get a file from a private S3 bucket onto an EC2 instance using authenticated GetObject requests. In this template the credentials to use to authenticate for the S3 bucket are defined in the files section. **WARNING** This template creates an Amazon EC2 instance. You will be billed for the AWS resources used if you create a stack from this template.</title><polygon fill="#fff" stroke="#fff" points="-4 5 -4 -328 773 -328 773 5 -4 5"/><g id="node1" class="node"><title>CfnKeys</title><polygon fill="none" stroke="#000" points="407 -180 337 -180 337 -144 407 -144 407 -180"/><text x="372" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">CfnKeys</text></g><g id="node3" class="node"><title>WebServer</title><polygon fill="none" stroke="#000" points="418 -108 326 -108 326 -72 418 -72 418 -108"/><text x="372" y="-86.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WebServer</text></g><g id="edge8" class="edge"><title>CfnKeys-&gt;WebServer</title><path fill="none" stroke="#000" d="M366.048,-143.831C365.297,-136.131 365.076,-126.974 365.385,-118.417"/><polygon fill="#000" stroke="#000" points="368.879 -118.616 366.024 -108.413 361.893 -118.17 368.879 -118.616"/></g><g id="edge10" class="edge"><title>CfnKeys-&gt;WebServer</title><path fill="none" stroke="#000" d="M377.952,-143.831C378.703,-136.131 378.924,-126.974 378.615,-118.417"/><polygon fill="#000" stroke="#000" points="382.107 -118.17 377.976 -108.413 375.121 -118.616 382.107 -118.17"/></g><g id="node2" class="node"><title>CfnUser</title><polygon fill="none" stroke="#000" points="362 -252 292 -252 292 -216 362 -216 362 -252"/><text x="327" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">CfnUser</text></g><g id="edge4" class="edge"><title>CfnUser-&gt;CfnKeys</title><path fill="none" stroke="#000" d="M338.355,-215.831C343.433,-207.708 349.523,-197.964 355.118,-189.012"/><polygon fill="#000" stroke="#000" points="358.16 -190.748 360.492 -180.413 352.224 -187.038 358.16 -190.748"/></g><g id="node6" class="node"><title>BucketPolicy</title><polygon fill="none" stroke="#000" points="319 -180 217 -180 217 -144 319 -144 319 -180"/><text x="268" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">BucketPolicy</text></g><g id="edge32" class="edge"><title>CfnUser-&gt;BucketPolicy</title><path fill="none" stroke="#000" d="M312.112,-215.831C305.247,-207.454 296.97,-197.353 289.449,-188.175"/><polygon fill="#000" stroke="#000" points="292.134 -185.93 283.089 -180.413 286.72 -190.366 292.134 -185.93"/></g><g id="node14" class="node"><title>WebsiteURL</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="410 -36 334 -36 322 -24 322 -12 334 0 410 0 422 -12 422 -24 410 -36"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M334,-36C328,-36 322,-30 322,-24"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M322,-12C322,-6 328,-1.69109e-14 334,-1.60583e-14"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M410,-5.25802e-15C416,-4.40536e-15 422,-6 422,-12"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M422,-24C422,-30 416,-36 410,-36"/><polyline fill="none" stroke="#000" points="410 -36 334 -36"/><path fill="none" stroke="#000" d="M334,-36C328,-36 322,-30 322,-24"/><polyline fill="none" stroke="#000" points="322 -24 322 -12"/><path fill="none" stroke="#000" d="M322,-12C322,-6 328,-1.69109e-14 334,-1.60583e-14"/><polyline fill="none" stroke="#000" points="334 0 410 0"/><path fill="none" stroke="#000" d="M410,-5.25802e-15C416,-4.40536e-15 422,-6 422,-12"/><polyline fill="none" stroke="#000" points="422 -12 422 -24"/><path fill="none" stroke="#000" d="M422,-24C422,-30 416,-36 410,-36"/><text x="372" y="-14.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WebsiteURL</text></g><g id="edge38" class="edge"><title>WebServer-&gt;WebsiteURL</title><path fill="none" stroke="#000" d="M372,-71.8314C372,-64.131 372,-54.9743 372,-46.4166"/><polygon fill="#000" stroke="#000" points="375.5 -46.413 372 -36.413 368.5 -46.413 375.5 -46.413"/></g><g id="node4" class="node"><title>WebServerSecurityGroup</title><polygon fill="none" stroke="#000" points="700 -252 508 -252 508 -216 700 -216 700 -252"/><text x="604" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WebServerSecurityGroup</text></g><g id="edge20" class="edge"><title>WebServerSecurityGroup-&gt;WebServer</title><path fill="none" stroke="#000" d="M603.355,-215.785C601.636,-195.445 595.733,-162.905 576,-144 554.937,-123.821 481.148,-107.852 428.375,-98.6636"/><polygon fill="#000" stroke="#000" points="428.899 -95.203 418.453 -96.972 427.723 -102.103 428.899 -95.203"/></g><g id="node5" class="node"><title>WaitCondition</title><polygon fill="none" stroke="#000" points="114 -108 0 -108 0 -72 114 -72 114 -108"/><text x="57" y="-86.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WaitCondition</text></g><g id="node7" class="node"><title>WaitHandle</title><polygon fill="none" stroke="#000" points="105 -180 9 -180 9 -144 105 -144 105 -180"/><text x="57" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">WaitHandle</text></g><g id="edge16" class="edge"><title>WaitHandle-&gt;WebServer</title><path fill="none" stroke="#000" d="M105.308,-147.609C109.924,-146.345 114.543,-145.121 119,-144 186.172,-127.104 264.228,-110.968 315.678,-100.808"/><polygon fill="#000" stroke="#000" points="316.465 -104.22 325.602 -98.857 315.114 -97.352 316.465 -104.22"/></g><g id="edge30" class="edge"><title>WaitHandle-&gt;WaitCondition</title><path fill="none" stroke="#000" d="M57,-143.831C57,-136.131 57,-126.974 57,-118.417"/><polygon fill="#000" stroke="#000" points="60.5 -118.413 57 -108.413 53.5 -118.413 60.5 -118.413"/></g><g id="node9" class="node"><title>SSHLocation</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="644 -324 564 -324 552 -312 552 -300 564 -288 644 -288 656 -300 656 -312 644 -324"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M564,-324C558,-324 552,-318 552,-312"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M552,-300C552,-294 558,-288 564,-288"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M644,-288C650,-288 656,-294 656,-300"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M656,-312C656,-318 650,-324 644,-324"/><polyline fill="none" stroke="#000" points="644 -324 564 -324"/><path fill="none" stroke="#000" d="M564,-324C558,-324 552,-318 552,-312"/><polyline fill="none" stroke="#000" points="552 -312 552 -300"/><path fill="none" stroke="#000" d="M552,-300C552,-294 558,-288 564,-288"/><polyline fill="none" stroke="#000" points="564 -288 644 -288"/><path fill="none" stroke="#000" d="M644,-288C650,-288 656,-294 656,-300"/><polyline fill="none" stroke="#000" points="656 -300 656 -312"/><path fill="none" stroke="#000" d="M656,-312C656,-318 650,-324 644,-324"/><text x="604" y="-302.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">SSHLocation</text></g><g id="edge28" class="edge"><title>SSHLocation-&gt;WebServerSecurityGroup</title><path fill="none" stroke="#000" d="M604,-287.831C604,-280.131 604,-270.974 604,-262.417"/><polygon fill="#000" stroke="#000" points="607.5 -262.413 604 -252.413 600.5 -262.413 607.5 -262.413"/></g><g id="node10" class="node"><title>KeyName</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="756 -324 700 -324 688 -312 688 -300 700 -288 756 -288 768 -300 768 -312 756 -324"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M700,-324C694,-324 688,-318 688,-312"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M688,-300C688,-294 694,-288 700,-288"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M756,-288C762,-288 768,-294 768,-300"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M768,-312C768,-318 762,-324 756,-324"/><polyline fill="none" stroke="#000" points="756 -324 700 -324"/><path fill="none" stroke="#000" d="M700,-324C694,-324 688,-318 688,-312"/><polyline fill="none" stroke="#000" points="688 -312 688 -300"/><path fill="none" stroke="#000" d="M688,-300C688,-294 694,-288 700,-288"/><polyline fill="none" stroke="#000" points="700 -288 756 -288"/><path fill="none" stroke="#000" d="M756,-288C762,-288 768,-294 768,-300"/><polyline fill="none" stroke="#000" points="768 -300 768 -312"/><path fill="none" stroke="#000" d="M768,-312C768,-318 762,-324 756,-324"/><text x="728" y="-302.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">KeyName</text></g><g id="edge18" class="edge"><title>KeyName-&gt;WebServer</title><path fill="none" stroke="#000" d="M728.111,-287.873C727.388,-268.498 723.735,-237.652 709,-216 676.335,-168.001 653.29,-167.045 600,-144 543.997,-119.782 475.348,-105.405 428.098,-97.6516"/><polygon fill="#000" stroke="#000" points="428.483 -94.169 418.057 -96.051 427.381 -101.082 428.483 -94.169"/></g><g id="node11" class="node"><title>InstanceType</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="173 -324 91 -324 79 -312 79 -300 91 -288 173 -288 185 -300 185 -312 173 -324"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M91,-324C85,-324 79,-318 79,-312"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M79,-300C79,-294 85,-288 91,-288"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M173,-288C179,-288 185,-294 185,-300"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M185,-312C185,-318 179,-324 173,-324"/><polyline fill="none" stroke="#000" points="173 -324 91 -324"/><path fill="none" stroke="#000" d="M91,-324C85,-324 79,-318 79,-312"/><polyline fill="none" stroke="#000" points="79 -312 79 -300"/><path fill="none" stroke="#000" d="M79,-300C79,-294 85,-288 91,-288"/><polyline fill="none" stroke="#000" points="91 -288 173 -288"/><path fill="none" stroke="#000" d="M173,-288C179,-288 185,-294 185,-300"/><polyline fill="none" stroke="#000" points="185 -300 185 -312"/><path fill="none" stroke="#000" d="M185,-312C185,-318 179,-324 173,-324"/><text x="132" y="-302.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">InstanceType</text></g><g id="edge26" class="edge"><title>InstanceType-&gt;WebServer</title><path fill="none" stroke="#000" d="M128.427,-287.816C128.683,-254.458 141.963,-183.306 184,-144 202.87,-126.356 267.479,-109.776 315.815,-99.7585"/><polygon fill="#000" stroke="#000" points="316.754 -103.139 325.86 -97.722 315.364 -96.279 316.754 -103.139"/></g><g id="edge22" class="edge"><title>InstanceType-&gt;WebServer</title><path fill="none" stroke="#000" d="M138.893,-287.816C146.683,-254.458 159.963,-183.306 202,-144 219.047,-128.06 273.422,-112.99 316.215,-102.841"/><polygon fill="#000" stroke="#000" points="317.039 -106.243 325.981 -100.561 315.447 -99.426 317.039 -106.243"/></g><g id="node12" class="node"><title>BucketName</title><polygon fill="#d3d3d3" stroke="#d3d3d3" points="295 -324 215 -324 203 -312 203 -300 215 -288 295 -288 307 -300 307 -312 295 -324"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M215,-324C209,-324 203,-318 203,-312"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M203,-300C203,-294 209,-288 215,-288"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M295,-288C301,-288 307,-294 307,-300"/><path fill="#d3d3d3" stroke="#d3d3d3" d="M307,-312C307,-318 301,-324 295,-324"/><polyline fill="none" stroke="#000" points="295 -324 215 -324"/><path fill="none" stroke="#000" d="M215,-324C209,-324 203,-318 203,-312"/><polyline fill="none" stroke="#000" points="203 -312 203 -300"/><path fill="none" stroke="#000" d="M203,-300C203,-294 209,-288 215,-288"/><polyline fill="none" stroke="#000" points="215 -288 295 -288"/><path fill="none" stroke="#000" d="M295,-288C301,-288 307,-294 307,-300"/><polyline fill="none" stroke="#000" points="307 -300 307 -312"/><path fill="none" stroke="#000" d="M307,-312C307,-318 301,-324 295,-324"/><text x="255" y="-302.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">BucketName</text></g><g id="edge6" class="edge"><title>BucketName-&gt;WebServer</title><path fill="none" stroke="#000" d="M240.548,-287.986C216.853,-256.126 175.469,-188.96 208,-144 220.973,-126.07 273.544,-110.858 315.716,-101.194"/><polygon fill="#000" stroke="#000" points="316.636 -104.575 325.632 -98.978 315.11 -97.743 316.636 -104.575"/></g><g id="edge34" class="edge"><title>BucketName-&gt;BucketPolicy</title><path fill="none" stroke="#000" d="M251.973,-287.762C251.73,-263.093 255.457,-218.86 260.003,-189.973"/><polygon fill="#000" stroke="#000" points="263.457 -190.539 261.709 -180.09 256.559 -189.349 263.457 -190.539"/></g><g id="edge36" class="edge"><title>BucketName-&gt;BucketPolicy</title><path fill="none" stroke="#000" d="M261.32,-287.762C265.997,-263.201 270.24,-219.247 270.938,-190.354"/><polygon fill="#000" stroke="#000" points="274.44 -190.119 271.025 -180.09 267.44 -190.059 274.44 -190.119"/></g><g id="node19" class="node"><title>AWS::StackId</title><polygon fill="none" stroke="#000" points="490 -252 380 -252 380 -216 490 -216 490 -252"/><text x="435" y="-230.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">AWS::StackId</text></g><g id="edge12" class="edge"><title>AWS::StackId-&gt;WebServer</title><path fill="none" stroke="#000" d="M433.709,-215.949C431.802,-197.182 427.157,-167.341 416,-144 411.257,-134.078 404.332,-124.391 397.373,-116.024"/><polygon fill="#000" stroke="#000" points="399.972 -113.679 390.761 -108.442 394.696 -118.28 399.972 -113.679"/></g><g id="node21" class="node"><title>AWS::Region</title><polygon fill="none" stroke="#000" points="567 -180 463 -180 463 -144 567 -144 567 -180"/><text x="515" y="-158.4" font-family="Times Roman,serif" font-size="14" text-anchor="middle">AWS::Region</text></g><g id="edge24" class="edge"><title>AWS::Region-&gt;WebServer</title><path fill="none" stroke="#000" d="M472.963,-143.831C453.419,-134.452 430.37,-122.911 411.193,-112.924"/><polygon fill="#000" stroke="#000" points="412.603 -109.712 402.122 -108.163 409.349 -115.91 412.603 -109.712"/></g><g id="edge14" class="edge"><title>AWS::Region-&gt;WebServer</title><path fill="none" stroke="#000" d="M484.867,-143.831C466.842,-134.287 443.561,-122.506 422.794,-112.401"/><polygon fill="#000" stroke="#000" points="424.292 -109.238 413.765 -108.038 421.246 -115.541 424.292 -109.238"/></g></g></svg>